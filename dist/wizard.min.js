!function(a,b,c){"use strict";function d(b,c){this.element=b,this.options=a.extend({},f,c),this._defaults=f,this._name=e,this.init()}var e="wizardBuilder",f={modifierClass:"pills",justified:!0,buttonSize:"",nextOption:"primary",previousOption:"default",headerElement:"h2",chunkClassName:".chunk"};d.prototype={init:function(){this.createNav(this.element),this.createButtons(this.element),this.state(this.element,this.options)},createNav:function(b){var c,d=[];a(this.options.headerElement).each(function(){d.push(a(this).text())}),c=a("<ul>"),c.addClass("wizard-nav nav nav-"+this.options.modifierClass),c.attr("role","tablist"),a.each(d,function(b){var e,f;e=a("<li>").attr("role","presentation").appendTo(c),f=a("<a>").attr("href","#").attr("role","tab").text(d[b]).appendTo(e)}),a(b).prepend(c),this.options.justified&&c.addClass("nav-justified")},createButtons:function(b){var c,d,e,f=this.options.buttonSize,g=this.options.nextOption,h=this.options.previousOption;c=a("<div>").addClass("wizard-btn-group btn-group"),d=a("<button>").attr("type","button").attr("role","button").addClass("prev-btn btn btn-"+h).html("&larr; Previous").appendTo(c),e=a("<button>").attr("type","button").attr("role","button").addClass("next-btn btn btn-"+g).html("Next &rarr;").appendTo(c),a(b).append(c),""!==f&&a("button").addClass("btn-"+f)},state:function(d,e){a(d).find(".wizard-nav .active")!==[]&&(a(d).find(".wizard-nav li").first().addClass("active"),a(this.options.chunkClassName+":gt(0)").each(function(){a(this).addClass("hide"),a(this).attr("aria-hidden","true")}),a(d).find(".prev-btn").addClass("disabled"));var f={activeNav:a(d).find(".wizard-nav li.active"),nextNav:a(d).find(".wizard-nav .active").next(),prevNav:a(d).find(".wizard-nav .active").prev(),activeChunk:a(d).find(this.options.chunkClassName).not(".hide"),nextChunk:a(d).find(this.options.chunkClassName).not(".hide").next(this.options.chunkClassName),prevChunk:a(d).find(this.options.chunkClassName).not(".hide").prev(this.options.chunkClassName)},g=function(){var b=a(".wizard-nav .active");0===b.next().length?a(".next-btn").addClass("disabled"):0!==b.next().length&&a(".next-btn").removeClass("disabled"),0===b.prev().length?a(".prev-btn").addClass("disabled"):0!==b.prev().length&&a(".prev-btn").removeClass("disabled")},h=function(b){var c="string"!=typeof b?b:null;if(c)var d=a(e.chunkClassName+" "+e.headerElement+":contains("+c.text()+")"),h=d.closest(e.chunkClassName);a(f.activeNav).removeClass("active"),"next"===b?a(f.nextNav).addClass("active").find("a").focus():"prev"===b?a(f.prevNav).addClass("active").find("a").focus():a(c).closest("li").addClass("active").find("a").focus(),f.activeNav=a(".wizard-nav .active"),f.nextNav=f.activeNav.next(),f.prevNav=f.activeNav.prev(),a(f.activeChunk).addClass("hide"),a(f.activeChunk).attr("aria-hidden","true"),"next"===b?(a(f.nextChunk).removeClass("hide"),a(f.nextChunk).attr("aria-hidden","false")):"prev"===b?(a(f.prevChunk).removeClass("hide"),a(f.prevChunk).attr("aria-hidden","false")):(a(h).removeClass("hide"),a(h).attr("aria-hidden","false")),f.activeChunk=a(e.chunkClassName).not(".hide"),f.nextChunk=f.activeChunk.next(e.chunkClassName),f.prevChunk=f.activeChunk.prev(e.chunkClassName),c&&g()},i=function(c){a(".wizard-nav .active");c=c||b.event,"37"!=c.keyCode||a(".prev-btn").hasClass("disabled")||j()?"39"!=c.keyCode||a(".next-btn").hasClass("disabled")||j()||h("next"):h("prev"),g()},j=function(){var a=c.activeElement.nodeName;return"TEXTAREA"===a||"INPUT"===a?!0:!1};c.onkeydown=i,a(".wizard-btn-group").on("click",function(){g()}),a(".wizard-btn-group .next-btn").on("click",function(){h("next")}),a(".wizard-btn-group .prev-btn").on("click",function(){h("prev")}),a(".wizard-nav a").on("click",function(){h(a(this))})}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})},a(c).ready(function(){a('[data-wizard="wizard"]').each(function(){var b,c=a('[data-wizard="section"]');c.addClass("chunk"),c.find(":header").first(function(){b=a(this).prop("tagName")}),a(this).wizardBuilder({headerElement:b})})})}(jQuery,window,document);