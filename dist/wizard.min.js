!function(a){"use strict";function b(b,e){this.element=b,this.options=a.extend({},d,e),this._defaults=d,this._name=c,this.init()}var c="wizardBuilder",d={modifierClass:"pills",justified:!1,buttonSize:"",nextOption:"primary",previousOption:"default",headerElement:"h2",chunkClassName:".chunk"};b.prototype={init:function(){this.createNav(this.element),this.createButtons(this.element),this.state(this.element,this.options)},createNav:function(b){var c,d=[];a(this.options.headerElement).each(function(){d.push(a(this).text())}),c=a("<ul>"),c.addClass("wizard-nav nav nav-"+this.options.modifierClass),c.attr("role","tablist"),a.each(d,function(b){var e,f;e=a("<li>").attr("role","presentation").appendTo(c),f=a("<a>").attr("href","#").attr("role","tab").text(d[b]).appendTo(e)}),a(b).prepend(c),this.options.justified&&c.addClass("nav-justified")},createButtons:function(b){var c,d,e,f=this.options.buttonSize,g=this.options.nextOption,h=this.options.previousOption;c=a("<div>").addClass("wizard-btn-group btn-group pull-right"),d=a("<button>").attr("type","button").attr("role","button").addClass("prev-btn btn btn-"+h).html("&larr; Previous").appendTo(c),e=a("<button>").attr("type","button").attr("role","button").addClass("next-btn btn btn-"+g).html("Next &rarr;").appendTo(c),a(b).append(c),""!==f&&a("button").addClass("btn-"+f)},state:function(b,c){a(b).find(".wizard-nav .active")!==[]&&(a(b).find(".wizard-nav li").first().addClass("active"),a(this.options.chunkClassName+":gt(0)").each(function(){a(this).addClass("hide")}),a(b).find(".prev-btn").addClass("disabled"));var d={activeNav:a(b).find(".wizard-nav li.active"),nextNav:a(b).find(".wizard-nav .active").next(),prevNav:a(b).find(".wizard-nav .active").prev(),activeChunk:a(b).find(this.options.chunkClassName).not(".hide"),nextChunk:a(b).find(this.options.chunkClassName).not(".hide").next(this.options.chunkClassName),prevChunk:a(b).find(this.options.chunkClassName).not(".hide").prev(this.options.chunkClassName)},e=function(){var b=a(".wizard-nav .active");0===b.next().length?a(".next-btn").addClass("disabled"):0!==b.next().length&&a(".next-btn").removeClass("disabled"),0===b.prev().length?a(".prev-btn").addClass("disabled"):0!==b.prev().length&&a(".prev-btn").removeClass("disabled")},f=function(b){var f="string"!=typeof b?b:null;if(f)var g=a(c.chunkClassName+" "+c.headerElement+":contains("+f.text()+")"),h=g.closest(c.chunkClassName);a(d.activeNav).removeClass("active"),"next"===b?a(d.nextNav).addClass("active"):"prev"===b?a(d.prevNav).addClass("active"):a(f).closest("li").addClass("active"),d.activeNav=a(".wizard-nav .active"),d.nextNav=d.activeNav.next(),d.prevNav=d.activeNav.prev(),a(d.activeChunk).addClass("hide"),"next"===b?a(d.nextChunk).removeClass("hide"):"prev"===b?a(d.prevChunk).removeClass("hide"):a(h).removeClass("hide"),d.activeChunk=a(c.chunkClassName).not(".hide"),d.nextChunk=d.activeChunk.next(c.chunkClassName),d.prevChunk=d.activeChunk.prev(c.chunkClassName),f&&e()};a(".wizard-btn-group").on("click",function(){e()}),a(".wizard-btn-group .next-btn").on("click",function(){f("next")}),a(".wizard-btn-group .prev-btn").on("click",function(){f("prev")}),a(".wizard-nav a").on("click",function(){f(a(this))})}},a.fn[c]=function(d){return this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})}}(jQuery,window,document);